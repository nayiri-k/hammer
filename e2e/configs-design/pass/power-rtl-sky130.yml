# Test Joules Flow

vlsi.core.power_tool: "hammer.power.joules"

power.inputs:
  level: "rtl"
  input_files: ["src/pass.v"]
  waveforms: ["build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"]
  saifs: ["build-sky130-cm/pass/sim-rtl-rundir/ucli.saif"]
  report_configs:
    - waveform_path: "build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"
      toggle_signal: clock
      num_toggles: 1
      report_stem: output.num_toggles-1
      output_formats:
      - all
    # should produce equivalent results:
    - waveform_path: "build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"
      interval_size: 10ns
      report_stem: output.interval_size-10ns
      output_formats:
      - plot_profile
    - waveform_path: "build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"
      interval_list: "10ns 10ns 10ns 10ns 10ns"
      report_stem: output.intervals_list_1
      output_formats:
      - plot_profile
    - waveform_path: "build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"
      interval_list: "0:10ns 10ns:20ns 20ns:30ns 30ns:40ns 40ns:50ns"
      report_stem: output.intervals_list_2
      output_formats:
      - plot_profile
    - waveform_path: "build-sky130-cm/pass/sim-rtl-rundir/output.fsdb"
      interval_size: 10ns
      tcl_cmd: "plot_power_profile"
      tcl_args: "-by_category {total} -types total -unit mW -format png -out reports/output.custom_tcl.profile.png"
